<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Musikskalen</title>
<link rel="manifest" href="manifest.json" />
<style>
  body { font-family: sans-serif; padding: 1rem; background: #f5f5f5; }
  h1 { text-align: center; }
  .scale { background: white; border-radius: 8px; padding: 1rem; margin-bottom: 1rem; }
  .modulation { font-weight: bold; color: #d32f2f; margin-bottom: 0.5rem; }
  select, button { margin: 0.5rem 0; }
</style>
</head>
<body>
<h1>Musikskalen</h1>

<label>Zeige Modulation:
<select id="modSelect">
  <option value="">Keine</option>
  <option value="Modulation 1">Modulation 1</option>
  <option value="Modulation 2">Modulation 2</option>
  <option value="Modulation 3">Modulation 3</option>
</select>
</label>

<div id="scales"></div>

<script>
const dur = [
  "C-Dur","G-Dur","D-Dur","A-Dur","E-Dur","H-Dur","Fis-Dur",
  "F-Dur","B-Dur","Es-Dur","As-Dur","Des-Dur"
];
const moll = [
  "A-Moll","E-Moll","H-Moll","Fis-Moll","Cis-Moll","Gis-Moll","Dis-Moll",
  "D-Moll","G-Moll","C-Moll","F-Moll","B-Moll"
];
const mollHarm = moll.map(m => m + " harmonisch");

function renderScales() {
  const mod = document.getElementById("modSelect").value;
  const container = document.getElementById("scales");
  container.innerHTML = "";
  [dur, moll, mollHarm].forEach((list) => {
    list.forEach(scale => {
      const div = document.createElement("div");
      div.className = "scale";
      if (mod) {
        const m = document.createElement("div");
        m.className = "modulation";
        m.textContent = mod;
        div.appendChild(m);
      }
      const name = document.createElement("div");
      name.textContent = scale;
      div.appendChild(name);
      container.appendChild(div);
    });
  });
}
document.getElementById("modSelect").addEventListener("change", renderScales);
renderScales();
</script>

<script>
// Service Worker registration
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("sw.js");
}
</script>
</body>
</html>
